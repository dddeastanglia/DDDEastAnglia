@model DDDEastAnglia.Models.LocalPasswordModel

<h2>Change your password</h2>

@if (!ViewBag.HasLocalAccount)
{
    <p>You do not have a local account, so you cannot change your password.</p>
}
else
{
    if (ViewBag.Message != null)
    {
        <div class="alert alert-success">@ViewBag.Message</div>
    }
    
    using (Html.BeginForm("ChangePassword", "Account", FormMethod.Post, new { @class = "form-horizontal"})) 
    {
        @Html.AntiForgeryToken()

        <p>To change your password, please fill in all of the details below.</p>

        <div class="control-group">
            @Html.LabelFor(m => m.OldPassword, new { @class = "control-label"})
            <div class="controls">
                @Html.PasswordFor(m => m.OldPassword)
                @Html.ValidationMessageFor(m => m.OldPassword)
            </div>
        </div>

        <div class="control-group">
            @Html.LabelFor(m => m.NewPassword, new { @class = "control-label"})
            <div class="controls">
                @Html.PasswordFor(m => m.NewPassword)
                @Html.ValidationMessageFor(m => m.NewPassword)
            </div>
        </div>

        <div class="control-group">
            @Html.LabelFor(m => m.ConfirmPassword, new { @class = "control-label"})
            <div class="controls">
                @Html.PasswordFor(m => m.ConfirmPassword)
                @Html.ValidationMessageFor(m => m.ConfirmPassword)
            </div>
        </div>
        
        <div>
            <input type="submit" class="btn btn-primary" value="Change password" />
        </div>
    }
}